<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SurvivalQuant</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f8f9fa;
            min-height: 100vh;
            color: #333;
            margin: 0;
            padding: 10px;
        }
        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            gap: 15px;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }
        .section {
            background: #ffffff;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 10px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }
        /* Clock Section Styles */
        .clock-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 15px;
            width: 200px;
            height: 250px;
            margin: 0 auto;
            background: #ffffff;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            overflow: hidden;
            position: relative; /* 상대 위치 설정 추가 */
        }
        .clock-city-name {
            font-size: 1.1rem;
            font-weight: bold;
            color: #555;
            margin-bottom: 5px; /* 여백 감소 */
            width: 100%;
            text-align: center;
        }
        .analog-clock-wrapper {
            width: 160px;
            height: 160px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0; /* 여백 제거 */
        }
        .analog-clock {
            width: 100%;
            height: 100%;
        }
        .digital-clock {
            margin-top: 5px; /* 여백 감소 */
            font-family: 'Courier New', Courier, monospace;
            font-size: 1.1rem;
            font-weight: bold;
            color: #333;
            background-color: #e9ecef;
            padding: 3px 8px; /* 패딩 감소 */
            border-radius: 4px;
            width: auto;
            text-align: center;
        }
        .header-section {
            background: linear-gradient(135deg, #4e54c8 0%, #8f94fb 100%);
            color: white;
            grid-column: 1 / -1;
            padding: 10px;
            text-align: center;
        }
        .links-section {
            grid-column: 1 / -1;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 10px;
            padding: 15px;
        }
        h1 { font-size: 1.5rem; margin-bottom: 5px; }
        
        .quick-links {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }
        .quick-link {
            background: #fff;
            padding: 8px 15px;
            border-radius: 20px;
            text-decoration: none;
            color: #4e54c8;
            font-size: 0.9rem;
            border: 1px solid #e9ecef;
        }
        .quick-link:hover {
            background: #f8f9fa;
            transform: translateY(-2px);
        }
        
        .ad-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            grid-column: 1 / -1;
        }
        .ad-placeholder {
            border: 1px dashed #ccc;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            min-height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .ad-placeholder:hover {
            background: #e9ecef;
            transform: translateY(-2px);
        }
        .ad-placeholder p {
            color: #666;
            margin: 2px 0;
            font-size: 0.9rem;
        }
        .ad-size {
            font-size: 0.8rem;
            color: #888;
        }
        
        .utilities-section {
            margin: 20px 0;
        }

        .utilities-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .utility-item {
            background: #fff;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 10px; /* Reduced padding */
            transition: all 0.3s ease;
        }

        .utility-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .utility-header {
            display: flex;
            align-items: center;
            margin-bottom: 5px; /* Reduced margin */
        }

        .utility-header h3 {
            margin: 0;
            font-size: 1rem; /* Reduced font size */
            color: #4e54c8;
        }

        .utility-content {
            margin-top: 5px; /* Reduced margin */
        }

        .market-dashboard {
            background: #fff;
            border-radius: 12px;
            padding: 15px; /* Reduced padding */
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .market-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
        }

        .market-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 5px 10px;
            border-bottom: 1px solid #e9ecef;
        }

        .market-item:last-child {
            border-bottom: none;
        }

        .market-name {
            font-weight: 500;
            min-width: 120px;
            font-size: 0.9rem;
        }

        .market-price {
            font-size: 0.9rem;
            margin: 0 15px;
        }

        .market-change {
            min-width: 60px;
            text-align: right;
            padding: 1px 6px;
            border-radius: 3px;
            font-size: 0.85rem;
        }

        .market-change.positive {
            color: #00b894;
            background: rgba(0, 184, 148, 0.1);
        }

        .market-change.negative {
            color: #ff7675;
            background: rgba(255, 118, 117, 0.1);
        }

        .market-category-header {
            grid-column: 1 / -1;
            font-size: 1.1rem;
            font-weight: bold;
            color: #4e54c8;
            margin-top: 15px;
            margin-bottom: 5px;
            padding-bottom: 5px;
            border-bottom: 1px solid #e9ecef;
        }



        .tooltip {
            position: relative;
            display: inline-block;
            cursor: help;
        }

        .tooltip:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            padding: 5px 10px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            border-radius: 4px;
            font-size: 0.8rem;
            white-space: nowrap;
            z-index: 1000;
        }
    </style>
</head>
<body>
<div class="main-container">
    <!-- 헤더 섹션 -->
    <div class="section header-section">
        <h1>🚀 생존형 퀀트의 경제적 낙원</h1>
        <p>실시간 코인 차트 및 투자 도구</p>
    </div>

    <!-- 링크 섹션 -->
    <div class="section links-section">
        <div class="quick-links">
            <a href="https://www.bybit.com/copyMt5/trade-center/detail?providerMark=xkc2wsLqVomphpP%2FtV6RRQ%3D%3D" class="quick-link" target="_blank">
                🌟 EconomicEden
            </a>
            <a href="https://m.blog.naver.com/economic_eden?tab=1" class="quick-link" target="_blank">
                📖 개발블로그
            </a>
            <a href="https://youtube.com/@economiceden?si=OLHH8h2MZep0oAYA" class="quick-link" target="_blank">
                📺 유튜브
            </a>
            <a href="https://cryptoinvest.cafe24.com:8080/m/dashboard" class="quick-link" target="_blank">
                💰 대시보드
            </a>
            <a href="games/" class="quick-link">
                🎮 게임
            </a>
            <a href="games/DungeonDual4.html" class="quick-link">
                🎲 던전듀얼4
            </a>
            <a href="utilities.html" class="quick-link">
                🛠️ 유틸리티
            </a>
        </div>
    </div>

    <!-- Clock Section -->
    <div class="section clock-section">
        <div class="clock-city-name">서울</div>
        <div class="analog-clock-wrapper">
            <canvas id="analog-clock" class="analog-clock"></canvas>
        </div>
        <div class="digital-clock"><span id="digital-time"></span></div>
    </div>

    

    <!-- 유틸리티 섹션 -->
    <div class="section utilities-section">
        <h2>🛠️ 유용한 도구들</h2>
        <div class="utilities-container">
            <!-- IP 주소 확인 -->
            <div class="utility-item">
                <div class="utility-header">
                    <h3>🌐 현재 IP 주소</h3>
                </div>
                <div class="utility-content">
                    <div class="utility-result" id="ip-address">확인 중...</div>
                </div>
            </div>

            <!-- 시장 가격 대시보드 -->
            <div class="utility-item market-dashboard">
                <div class="utility-header">
                    <h3>📊 글로벌 금융 대시보드</h3>
                </div>
                <div class="utility-content">

                    <div class="market-grid">
                        <div class="market-category-header">주요 지수</div>
                        <!-- 주요 지수 -->
                        <div class="market-item">
                            <span class="market-name">S&P 500</span>
                            <span class="market-price" id="gspc_price">$4,783.45</span>
                            <span class="market-change positive" id="gspc_change">+0.8%</span>
                        </div>
                        <div class="market-item">
                            <span class="market-name">나스닥</span>
                            <span class="market-price" id="ndx_price">$16,832.92</span>
                            <span class="market-change positive" id="ndx_change">+1.2%</span>
                        </div>
                        <div class="market-item">
                            <span class="market-name">다우존스</span>
                            <span class="market-price" id="dji_price">$37,592.98</span>
                            <span class="market-change positive" id="dji_change">+0.7%</span>
                        </div>
                        <div class="market-item">
                            <span class="market-name">코스피</span>
                            <span class="market-price" id="ks11_price">2,568.72</span>
                            <span class="market-change negative" id="ks11_change">-0.5%</span>
                        </div>
                        <div class="market-item">
                            <span class="market-name">코스닥</span>
                            <span class="market-price" id="kq11_price">842.65</span>
                            <span class="market-change negative" id="kq11_change">-0.3%</span>
                        </div>
                        <div class="market-item">
                            <span class="market-name">니케이 225</span>
                            <span class="market-price" id="n225_price">¥33,452.50</span>
                            <span class="market-change positive" id="n225_change">+0.9%</span>
                        </div>
                        <div class="market-item">
                            <span class="market-name">항셍</span>
                            <span class="market-price" id="hsi_price">16,245.30</span>
                            <span class="market-change negative" id="hsi_change">-1.2%</span>
                        </div>

                        <div class="market-category-header">원자재</div>
                        <!-- 원자재 -->
                        <div class="market-item">
                            <span class="market-name">금</span>
                            <span class="market-price" id="gc_f_price">$2,032.50</span>
                            <span class="market-change positive" id="gc_f_change">+0.4%</span>
                        </div>
                        <div class="market-item">
                            <span class="market-name">은</span>
                            <span class="market-price" id="si_f_price">$23.15</span>
                            <span class="market-change negative" id="si_f_change">-0.2%</span>
                        </div>
                        <div class="market-item">
                            <span class="market-name">WTI 원유</span>
                            <span class="market-price" id="cl_f_price">$72.45</span>
                            <span class="market-change positive" id="cl_f_change">+1.5%</span>
                        </div>
                        <div class="market-item">
                            <span class="market-name">천연가스</span>
                            <span class="market-price" id="ng_f_price">$2.52</span>
                            <span class="market-change negative" id="ng_f_change">-0.8%</span>
                        </div>
                        <div class="market-item">
                            <span class="market-name">구리</span>
                            <span class="market-price" id="hg_f_price">$3.85</span>
                            <span class="market-change positive" id="hg_f_change">+0.6%</span>
                        </div>

                        <div class="market-category-header">암호화폐</div>
                        <!-- 암호화폐 -->
                        <div class="market-item">
                            <span class="market-name">비트코인</span>
                            <span class="market-price" id="btc_price">$42,350.00</span>
                            <span class="market-change positive" id="btc_change">+2.3%</span>
                        </div>
                        <div class="market-item">
                            <span class="market-name">이더리움</span>
                            <span class="market-price" id="eth_price">$2,245.80</span>
                            <span class="market-change positive" id="eth_change">+1.8%</span>
                        </div>

                        <div class="market-category-header">금리/통화</div>
                        <!-- 금리/통화 -->
                        <div class="market-item">
                            <span class="market-name">미국 10년 국채</span>
                            <span class="market-price" id="tnx_price">4.15%</span>
                            <span class="market-change positive" id="tnx_change">+0.05%</span>
                        </div>
                        <div class="market-item">
                            <span class="market-name">한국 10년 국채</span>
                            <span class="market-price" id="kr10yt_rr_price">3.28%</span>
                            <span class="market-change negative" id="kr10yt_rr_change">-0.02%</span>
                        </div>
                        <div class="market-item">
                            <span class="market-name">달러 인덱스</span>
                            <span class="market-price" id="dx_y_price">102.45</span>
                            <span class="market-change negative" id="dx_y_change">-0.3%</span>
                        </div>

                        <div class="market-category-header">거시경제</div>
                        <!-- 거시경제 -->
                        <div class="market-item">
                            <span class="market-name">미국 실업률</span>
                            <span class="market-price" id="us_unemployment">3.7%</span>
                            <span class="market-info">최근 업데이트: 2024.01</span>
                        </div>
                        <div class="market-item">
                            <span class="market-name">미국 CPI</span>
                            <span class="market-price" id="us_cpi">3.4%</span>
                            <span class="market-info">최근 업데이트: 2024.01</span>
                        </div>
                        <div class="market-item">
                            <span class="market-name">연방기금금리</span>
                            <span class="market-price" id="fed_rate">5.25-5.50%</span>
                            <span class="market-info">최근 업데이트: 2024.01</span>
                        </div>
                        <div class="market-item">
                            <span class="market-name">한국 기준금리</span>
                            <span class="market-price" id="bok_rate">3.50%</span>
                            <span class="market-info">최근 업데이트: 2024.01</span>
                        </div>
                    </div>
                </div>
            </div>

            
        </div>
    </div>

    <!-- 광고 컨테이너 -->
    <div class="ad-container">
        <!-- 프리미엄 광고 영역 -->
        <div class="ad-placeholder">
            <p>프리미엄 광고 #1</p>
            <p class="ad-size">300x600px - 스카이스크래퍼</p>
            <p>최상단 노출 광고</p>
        </div>
        <div class="ad-placeholder">
            <p>프리미엄 광고 #2</p>
            <p class="ad-size">300x600px - 스카이스크래퍼</p>
            <p>상단 우측 광고</p>
        </div>

        <!-- 일반 광고 영역 -->
        <div class="ad-placeholder">
            <p>거래소 광고 #1</p>
            <p class="ad-size">336x280px - 라지 렉탱글</p>
            <p>바이낸스 거래소</p>
        </div>
        <div class="ad-placeholder">
            <p>거래소 광고 #2</p>
            <p class="ad-size">336x280px - 라지 렉탱글</p>
            <p>바이비트 거래소</p>
        </div>
        <div class="ad-placeholder">
            <p>거래소 광고 #3</p>
            <p class="ad-size">336x280px - 라지 렉탱글</p>
            <p>업비트 거래소</p>
        </div>
        <div class="ad-placeholder">
            <p>거래소 광고 #4</p>
            <p class="ad-size">336x280px - 라지 렉탱글</p>
            <p>빗썸 거래소</p>
        </div>

        <!-- 코인 프로젝트 광고 -->
        <div class="ad-placeholder">
            <p>코인 프로젝트 #1</p>
            <p class="ad-size">300x250px - 미디움 렉탱글</p>
            <p>신규 코인 런칭</p>
        </div>
        <div class="ad-placeholder">
            <p>코인 프로젝트 #2</p>
            <p class="ad-size">300x250px - 미디움 렉탱글</p>
            <p>ICO 진행중</p>
        </div>

        <!-- 트레이딩 도구 광고 -->
        <div class="ad-placeholder">
            <p>트레이딩 도구 #1</p>
            <p class="ad-size">300x250px - 미디움 렉탱글</p>
            <p>차트 분석 툴</p>
        </div>
        <div class="ad-placeholder">
            <p>트레이딩 도구 #2</p>
            <p class="ad-size">300x250px - 미디움 렉탱글</p>
            <p>시그널 서비스</p>
        </div>

        <!-- 교육 서비스 광고 -->
        <div class="ad-placeholder">
            <p>교육 서비스 #1</p>
            <p class="ad-size">300x250px - 미디움 렉탱글</p>
            <p>트레이딩 강좌</p>
        </div>
        <div class="ad-placeholder">
            <p>교육 서비스 #2</p>
            <p class="ad-size">300x250px - 미디움 렉탱글</p>
            <p>멘토링 프로그램</p>
        </div>
    </div>
</div>

<script>
    // IP 주소 확인
    async function getIPAddress() {
        try {
            const response = await fetch('https://api.ipify.org?format=json');
            const data = await response.json();
            const ipElement = document.getElementById('ip-address');
            if(ipElement) ipElement.textContent = data.ip;
        } catch (error) {
            const ipElement = document.getElementById('ip-address');
            if(ipElement) ipElement.textContent = '확인 불가';
        }
    }

    // 시장 가격 가져오기
    async function getMarketPrices() {
        try {
            // Binance API를 사용하여 암호화폐 가격 가져오기
            const cryptoResponse = await fetch('https://api.binance.com/api/v3/ticker/24hr?symbols=["BTCUSDT","ETHUSDT"]');
            const cryptoData = await cryptoResponse.json();
            
            // 다른 시장 데이터를 가져오기 위한 Alpha Vantage API 사용
            const AV_API_KEY = 'demo'; // 실제 사용시 자신의 API 키로 교체 필요
            const stockSymbols = ['SPY', 'QQQ', 'DIA', 'EWY', 'EWJ', 'FXI'];
            
            for (const symbol of stockSymbols) {
                try {
                    const response = await fetch(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${symbol}&apikey=${AV_API_KEY}`);
                    const data = await response.json();
                    
                    if (data['Global Quote']) {
                        const quote = data['Global Quote'];
                        const price = parseFloat(quote['05. price']);
                        const change = parseFloat(quote['10. change percent']);
                        
                        // 각 심볼에 맞는 ID로 업데이트
                        updateMarketData(symbol, price, change);
                    }
                } catch (error) {
                    console.error(`Error fetching data for ${symbol}:`, error);
                }
            }
            
            // 암호화폐 데이터 업데이트
            cryptoData.forEach(crypto => {
                if (crypto.symbol === 'BTCUSDT') {
                    updateMarketData('BTC', parseFloat(crypto.lastPrice), parseFloat(crypto.priceChangePercent));
                } else if (crypto.symbol === 'ETHUSDT') {
                    updateMarketData('ETH', parseFloat(crypto.lastPrice), parseFloat(crypto.priceChangePercent));
                }
            });
            
        } catch (error) {
            console.error('시장 가격을 가져오는데 실패했습니다:', error);
        }
    }

    // 시장 데이터 업데이트 함수
    function updateMarketData(symbol, price, change) {
        const priceElement = document.getElementById(`${symbol.toLowerCase()}_price`);
        const changeElement = document.getElementById(`${symbol.toLowerCase()}_change`);
        
        if (priceElement) {
            priceElement.textContent = price.toLocaleString(undefined, {
                style: 'currency',
                currency: 'USD'
            });
        }
        
        if (changeElement) {
            changeElement.textContent = `${change >= 0 ? '+' : ''}${change.toFixed(2)}%`;
            changeElement.className = `market-change ${change >= 0 ? 'positive' : 'negative'}`;
        }
    }

    // 시계 관련 코드
    const canvas = document.getElementById('analog-clock');
    const ctx = canvas.getContext('2d');
    const digitalTime = document.getElementById('digital-time');
    
    function resizeClock() {
        const wrapper = canvas.parentElement;
        const size = wrapper.clientWidth;
        canvas.width = size;
        canvas.height = size;
        
        const radius = size / 2;
        ctx.translate(radius, radius);
    }

    function drawClock() {
        // Get Seoul time
        const now = new Date();
        const utc = now.getTime() + (now.getTimezoneOffset() * 60000);
        const seoulTime = new Date(utc + (9 * 3600000));

        const hour = seoulTime.getHours();
        const minute = seoulTime.getMinutes();
        const second = seoulTime.getSeconds();
        const millisecond = seoulTime.getMilliseconds();

        // Digital Clock
        digitalTime.textContent = seoulTime.toLocaleTimeString('ko-KR', { 
            hour12: false, 
            hour: '2-digit', 
            minute:'2-digit', 
            second:'2-digit' 
        });

        // Analog Clock
        ctx.save();
        ctx.clearRect(-canvas.width/2, -canvas.height/2, canvas.width, canvas.height);
        
        const radius = canvas.width/2 * 0.90; // 시계 크기를 캔버스의 90%로 설정
        
        drawFace(ctx, radius);
        drawNumbers(ctx, radius);
        drawTime(ctx, radius, hour, minute, second, millisecond);
        
        ctx.restore();
        requestAnimationFrame(drawClock);
    }

    function drawFace(ctx, radius) {
        ctx.beginPath();
        ctx.arc(0, 0, radius, 0, 2 * Math.PI);
        ctx.fillStyle = '#f0f0f0';
        ctx.fill();

        // Draw the clock border
        const grad = ctx.createRadialGradient(0, 0, radius * 0.9, 0, 0, radius * 1.1);
        grad.addColorStop(0, '#e0e0e0');
        grad.addColorStop(0.5, '#f8f9fa');
        grad.addColorStop(1, '#cccccc');
        ctx.strokeStyle = grad;
        ctx.lineWidth = radius * 0.1;
        ctx.stroke();

        // Center circle
        ctx.beginPath();
        ctx.arc(0, 0, radius * 0.05, 0, 2 * Math.PI);
        ctx.fillStyle = '#333';
        ctx.fill();
    }

    function drawNumbers(ctx, radius) {
        ctx.font = radius * 0.15 + "px Segoe UI";
        ctx.textBaseline = "middle";
        ctx.textAlign = "center";
        ctx.fillStyle = "#333";
        
        for (let num = 1; num <= 12; num++) {
            const angle = (num * Math.PI / 6) - (Math.PI / 2);
            const x = radius * 0.85 * Math.cos(angle);
            const y = radius * 0.85 * Math.sin(angle);
            
            ctx.fillText(num.toString(), x, y);
        }
    }

    function drawTime(ctx, radius, hour, minute, second, millisecond) {
        // Hour
        hour = hour % 12;
        const hourAngle = (hour * Math.PI / 6) +
            (minute * Math.PI / (6 * 60)) +
            (second * Math.PI / (360 * 60));
        drawHand(ctx, hourAngle, radius * 0.5, radius * 0.07);

        // Minute
        const minuteAngle = (minute * Math.PI / 30) + (second * Math.PI / (30 * 60));
        drawHand(ctx, minuteAngle, radius * 0.8, radius * 0.07);

        // Second (smooth)
        const secondAngle = (second * Math.PI / 30) + (millisecond * Math.PI / (30 * 1000));
        drawHand(ctx, secondAngle, radius * 0.9, radius * 0.02, '#d9534f');
    }

    function drawHand(ctx, angle, length, width, color = '#333') {
        ctx.beginPath();
        ctx.lineWidth = width;
        ctx.lineCap = "round";
        ctx.strokeStyle = color;
        ctx.moveTo(0, 0);
        ctx.rotate(angle);
        ctx.lineTo(0, -length);
        ctx.stroke();
        ctx.rotate(-angle);
    }

    // 초기화 및 이벤트 리스너
    window.addEventListener('load', function() {
        resizeClock();
        drawClock();
        getIPAddress();
        getMarketPrices();
        
        // 1분마다 시장 가격 업데이트
        setInterval(getMarketPrices, 60000);
    });

    // 창 크기 변경 시 시계 크기 조정
    window.addEventListener('resize', resizeClock);
</script>
</body>
</html>