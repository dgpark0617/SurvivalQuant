<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SurvivalQuant</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #ffffff;
            min-height: 100vh;
            color: #333;
            margin: 0;
            padding: 20px;
        }
        
        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }
        
        .section {
            background: #ffffff;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            text-align: center;
        }
        
        .header-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
        }
        
        .chart-section {
            background: #ffffff;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            margin-bottom: 20px;
        }
        
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .chart-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #333;
            margin: 0;
        }
        
        .chart-controls {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .control-btn {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }
        
        .control-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: #667eea;
        }
        
        .control-btn:hover {
            background: #e9ecef;
        }
        
        .control-btn.active:hover {
            background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
        }
        
        .coin-selector {
            padding: 10px 15px;
            border: 2px solid #ddd;
            border-radius: 25px;
            background: white;
            font-size: 1rem;
            font-weight: 500;
            color: #333;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-right: 15px;
            min-width: 200px;
        }
        
        .coin-selector:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }
        
        .coin-selector:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
        }
        
        .timeframe-legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            font-size: 0.9rem;
            font-weight: 600;
            padding: 5px 10px;
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.8);
        }
        
        .legend-item.daily {
            color: #222222;
        }
        
        .legend-item.hourly4 {
            color: #FF5733;
        }
        
        .legend-item.minute30 {
            color: #2E7D32;
        }
        
        .legend-item.minute5 {
            color: #1976D2;
        }
        
        .legend-item.minute1 {
            color: #9C27B0;
        }
        
        .chart-info {
            margin-top: 20px;
            padding: 15px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
            border: 1px solid #dee2e6;
        }
        
        .info-item {
            margin-bottom: 8px;
            font-size: 0.9rem;
            color: #495057;
        }
        
        .info-item:last-child {
            margin-bottom: 0;
        }
        
        .fractal-chart-container {
            position: relative;
            height: 500px;
            width: 100%;
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border: 3px solid #ff69b4;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 8px 25px rgba(255, 105, 180, 0.3);
            overflow: hidden;
        }
        
        .candle-layer {
            position: absolute;
            top: 20px;
            left: 20px;
            width: calc(100% - 40px) !important;
            height: calc(100% - 40px) !important;
            pointer-events: none;
        }
        
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .stat-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border-left: 4px solid #e9ecef;
            transition: all 0.3s ease;
        }
        
        .stat-item.positive {
            border-left-color: #28a745;
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
        }
        
        .stat-item.negative {
            border-left-color: #dc3545;
            background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 5px;
        }
        
        .stat-value {
            font-size: 1.1rem;
            font-weight: bold;
            color: #333;
        }
        
        .stat-change {
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        .positive .stat-change {
            color: #28a745;
        }
        
        .negative .stat-change {
            color: #dc3545;
        }
        
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
            font-size: 1.1rem;
            color: #666;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .loading::after {
            content: '...';
            animation: pulse 1.5s infinite;
        }
        
        .links-section {
            grid-column: 1;
        }
        
        .ads-section {
            background: #f8f9fa;
            min-height: 200px;
            border-style: dashed;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6c757d;
        }
        
        .future-section {
            background: #f1f3f4;
            min-height: 150px;
            border-style: dashed;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #6c757d;
        }
        
        @media (min-width: 768px) {
            .main-container {
                grid-template-columns: 2fr 1fr;
                grid-template-areas: 
                    "header header"
                    "chart chart"
                    "links ads"
                    "games utilities";
            }
            
            .header-section { grid-area: header; }
            .chart-section { grid-area: chart; }
            .links-section { grid-area: links; }
            .ads-section { grid-area: ads; }
            .games-section { grid-area: games; }
            .utilities-section { grid-area: utilities; }
        }
        
        h1 {
            font-size: 1.8rem;
            margin-bottom: 10px;
            font-weight: 400;
        }
        
        h2 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            font-weight: 400;
            color: #333;
        }
        
        h3 {
            font-size: 1.3rem;
            margin-bottom: 10px;
            font-weight: 500;
            color: #555;
        }
        
        .url-display {
            background: #f8f9fa;
            color: #333;
            padding: 15px 20px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 500;
            margin: 15px 0;
            word-break: break-all;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }
        
        .url-display:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .copy-btn {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s ease;
            margin-top: 15px;
        }
        
        .copy-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(238, 90, 36, 0.4);
        }
        
        .description {
            margin-top: 20px;
            font-size: 1rem;
            opacity: 0.9;
            line-height: 1.6;
        }
        
        .success-message {
            display: none;
            color: #2ecc71;
            font-weight: 500;
            margin-top: 10px;
        }
        
        .link-display {
            background: #f8f9fa;
            color: #333;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 15px 0;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }
        
        .link-display a {
            color: #0066cc;
            text-decoration: none;
            font-size: 1.2rem;
            font-weight: 500;
            transition: color 0.3s ease;
        }
        
        .link-display a:hover {
            color: #004499;
            text-decoration: underline;
        }
        
        .section-link {
            display: block;
            text-decoration: none;
            color: inherit;
            transition: all 0.3s ease;
            position: relative;
            height: 100%;
            width: 100%;
        }
        
        .section-link:hover {
            transform: translateY(-2px);
            color: #333;
        }
        
        .link-arrow {
            position: absolute;
            bottom: 15px;
            right: 15px;
            font-size: 1.5rem;
            font-weight: bold;
            opacity: 0.7;
            transition: all 0.3s ease;
        }
        
        .section-link:hover .link-arrow {
            opacity: 1;
            transform: translateX(5px);
        }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- 헤더 섹션 -->
        <div class="section header-section">
            <h1>🚀 SurvivalQuant</h1>
            <p>EconomicEden - 실시간 코인 차트 및 투자 도구</p>
        </div>
        
        <!-- 프랙탈 캔들스틱 차트 섹션 -->
        <div class="chart-section">
            <div class="chart-header">
                <h2 class="chart-title">�️ 프랙탈 캔들스틱 차트</h2>
                <div class="chart-controls">
                    <select id="coinSelector" class="coin-selector">
                        <option value="BTCUSDT">🟡 Bitcoin (BTC)</option>
                        <option value="ETHUSDT">🔷 Ethereum (ETH)</option>
                        <option value="SOLUSDT">🟣 Solana (SOL)</option>
                        <option value="ADAUSDT">🔵 Cardano (ADA)</option>
                        <option value="DOGEUSDT">🟠 Dogecoin (DOGE)</option>
                    </select>
                    <button class="control-btn active" id="refreshBtn" onclick="refreshChart()">🔄 새로고침</button>
                </div>
                <div class="timeframe-legend">
                    <span class="legend-item daily">■ 일봉 (1D)</span>
                    <span class="legend-item hourly4">■ 4시간봉 (4H)</span>
                    <span class="legend-item minute30">■ 30분봉 (30M)</span>
                    <span class="legend-item minute5">■ 5분봉 (5M)</span>
                    <span class="legend-item minute1">■ 1분봉 (1M)</span>
                </div>
            </div>
            
            <!-- 프랙탈 캔들 차트 표시 공간 -->
            <div class="fractal-chart-container">
                <canvas id="dailyCanvas" class="candle-layer" style="z-index: 1;"></canvas>
                <canvas id="hourly4Canvas" class="candle-layer" style="z-index: 2;"></canvas>
                <canvas id="minute30Canvas" class="candle-layer" style="z-index: 3;"></canvas>
                <canvas id="minute5Canvas" class="candle-layer" style="z-index: 4;"></canvas>
                <canvas id="minute1Canvas" class="candle-layer" style="z-index: 5;"></canvas>
                <div id="loadingMessage" class="loading">프랙탈 캔들 데이터 로딩중...</div>
            </div>
            
            <div class="chart-info">
                <div class="info-item">
                    <strong>혁신적 컨셉:</strong> 세계 최초 프랙탈 구조 캔들스틱 차트
                </div>
                <div class="info-item">
                    <strong>구조:</strong> 일봉 → 4시간봉(6개) → 30분봉(8개) → 5분봉(6개) → 1분봉(5개)
                </div>
                <div class="info-item">
                    <strong>투명도:</strong> 일봉(불투명) → 4시간봉(80%) → 30분봉(60%) → 5분봉(40%) → 1분봉(20%)
                </div>
            </div>
        </div>
        
        <!-- 링크 섹션 -->
        <div class="section links-section">
            <h2>🔗 주요 링크</h2>
            
            <div class="url-display" id="urlDisplay">
                https://dgpark0617.github.io/SurvivalQuant/
            </div>
            <button class="copy-btn" onclick="copyToClipboard()">
                📋 URL 복사하기
            </button>
            <div class="success-message" id="successMessage">
                ✅ URL이 클립보드에 복사되었습니다!
            </div>
            
            <div class="link-display">
                <a href="https://www.bybit.com/copyMt5/trade-center/detail?providerMark=xkc2wsLqVomphpP%2FtV6RRQ%3D%3D" target="_blank">
                    🌟 EconomicEden
                </a>
            </div>
            
            <div class="link-display">
                <a href="https://m.blog.naver.com/economic_eden?tab=1" target="_blank">
                    📖 개발블로그
                </a>
            </div>
            
            <div class="link-display">
                <a href="https://youtube.com/@economiceden?si=OLHH8h2MZep0oAYA" target="_blank">
                    📺 유튜브
                </a>
            </div>
            
            <div class="link-display">
                <a href="https://cryptoinvest.cafe24.com:8080/m/dashboard" target="_blank">
                    💰 크립토 대시보드
                </a>
            </div>
        </div>
        
        <!-- 광고 섹션 -->
        <div class="section ads-section">
            <div>
                <h3>📺 광고 공간</h3>
                <p>YouTube 애드센스 및 광고가 표시될 예정입니다</p>
            </div>
        </div>
        
        <!-- 게임 섹션 -->
        <div class="section future-section games-section">
            <a href="games/" class="section-link">
                <h3>🎮 미니 게임</h3>
                <p>재미있는 게임들을 즐겨보세요!</p>
                <div class="link-arrow">→</div>
            </a>
        </div>
        
        <!-- 유틸리티 섹션 -->
        <div class="section future-section utilities-section">
            <a href="utilities/" class="section-link">
                <h3>🛠️ 유틸리티</h3>
                <p>유용한 도구들을 사용해보세요!</p>
                <div class="link-arrow">→</div>
            </a>
        </div>
    </div>

    <script>
        // 기존 URL 복사 기능
        function copyToClipboard() {
            const urlText = document.getElementById('urlDisplay').textContent;
            navigator.clipboard.writeText(urlText).then(function() {
                const successMessage = document.getElementById('successMessage');
                successMessage.style.display = 'block';
                setTimeout(() => {
                    successMessage.style.display = 'none';
                }, 3000);
            });
        }
        
        // 프랙탈 캔들스틱 차트 변수들
        let currentSymbol = 'BTCUSDT';
        let candleData = {
            '1d': [],
            '4h': [],
            '30m': [],
            '5m': [],
            '1m': []
        };
        let canvasContexts = {};
        let chartDimensions = {
            width: 0,
            height: 0,
            candleWidth: 120,
            candleSpacing: 10
        };
        
        // 프랙탈 캔들스틱 차트 초기화
        function initializeFractalChart() {
            console.log('=== 🕯️ 프랙탈 캔들스틱 차트 시작 ===');
            
            // 모든 캔버스 초기화
            const canvasIds = ['dailyCanvas', 'hourly4Canvas', 'minute30Canvas', 'minute5Canvas', 'minute1Canvas'];
            
            canvasIds.forEach(canvasId => {
                const canvas = document.getElementById(canvasId);
                const ctx = canvas.getContext('2d');
                canvasContexts[canvasId] = ctx;
                
                // 캔버스 크기 설정
                const container = canvas.parentElement;
                canvas.width = container.clientWidth - 40;
                canvas.height = container.clientHeight - 40;
                
                console.log(`✅ ${canvasId} 초기화 완료: ${canvas.width}x${canvas.height}`);
            });
            
            // 차트 크기 설정
            chartDimensions.width = canvasContexts['dailyCanvas'].canvas.width;
            chartDimensions.height = canvasContexts['dailyCanvas'].canvas.height;
            
            console.log('📐 차트 크기:', chartDimensions);
            
            // 코인 선택기 이벤트 리스너
            document.getElementById('coinSelector').addEventListener('change', function(e) {
                currentSymbol = e.target.value;
                loadFractalCandleData();
            });
            
            // 초기 데이터 로드
            loadFractalCandleData();
        }
        
        // 프랙탈 캔들 데이터 로드
        async function loadFractalCandleData() {
            console.log(`🔄 ${currentSymbol} 프랙탈 캔들 데이터 로딩 시작...`);
            
            try {
                // 로딩 메시지 표시
                document.getElementById('loadingMessage').style.display = 'flex';
                
                // 각 시간대별 데이터 병렬 로드
                const promises = [
                    fetchKlineData(currentSymbol, '1d', 5),    // 일봉 5개
                    fetchKlineData(currentSymbol, '4h', 30),   // 4시간봉 30개 (5일)
                    fetchKlineData(currentSymbol, '30m', 240), // 30분봉 240개 (5일)
                    fetchKlineData(currentSymbol, '5m', 1440), // 5분봉 1440개 (5일)
                    fetchKlineData(currentSymbol, '1m', 7200)  // 1분봉 7200개 (5일)
                ];
                
                const [dailyData, hourly4Data, minute30Data, minute5Data, minute1Data] = await Promise.all(promises);
                
                // 데이터 저장
                candleData['1d'] = dailyData;
                candleData['4h'] = hourly4Data;
                candleData['30m'] = minute30Data;
                candleData['5m'] = minute5Data;
                candleData['1m'] = minute1Data;
                
                console.log('📊 캔들 데이터 로딩 완료:', {
                    '일봉': dailyData.length,
                    '4시간봉': hourly4Data.length,
                    '30분봉': minute30Data.length,
                    '5분봉': minute5Data.length,
                    '1분봉': minute1Data.length
                });
                
                // 프랙탈 캔들 차트 그리기
                drawFractalCandles();
                
                // 로딩 메시지 숨기기
                document.getElementById('loadingMessage').style.display = 'none';
                
                console.log('✅ 프랙탈 캔들 차트 완성!');
                
            } catch (error) {
                console.error('❌ 프랙탈 캔들 데이터 로딩 실패:', error);
                
                document.getElementById('loadingMessage').innerHTML = `
                    <div style="text-align: center; color: #ff4757;">
                        ❌ 프랙탈 캔들 데이터 로딩에 실패했습니다<br>
                        <small style="color: #666; font-size: 0.9rem;">에러: ${error.message}</small>
                    </div>
                `;
            }
        }
        
        // 바이낸스 Kline 데이터 가져오기
        async function fetchKlineData(symbol, interval, limit) {
            try {
                const response = await fetch(`https://api.binance.com/api/v3/klines?symbol=${symbol}&interval=${interval}&limit=${limit}`);
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
                const data = await response.json();
                console.log(`� ${symbol} ${interval} 데이터 수신:`, data.length, '개 캔들');
                
                // Kline 데이터 파싱 [openTime, open, high, low, close, volume, closeTime, ...]
                const parsedData = data.map(kline => ({
                    timestamp: parseInt(kline[0]),
                    open: parseFloat(kline[1]),
                    high: parseFloat(kline[2]),
                    low: parseFloat(kline[3]),
                    close: parseFloat(kline[4]),
                    volume: parseFloat(kline[5])
                }));
                
                return parsedData;
                
            } catch (error) {
                console.error(`❌ ${symbol} ${interval} 데이터 가져오기 실패:`, error);
                return [];
            }
        }
        
        // 프랙탈 캔들 차트 그리기
        function drawFractalCandles() {
            console.log('🎨 프랙탈 캔들 그리기 시작...');
            
            // 모든 캔버스 클리어
            Object.values(canvasContexts).forEach(ctx => {
                ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
            });
            
            // 가격 범위 계산 (모든 시간대 데이터 포함)
            const priceRange = calculatePriceRange();
            console.log('� 가격 범위:', priceRange);
            
            // 각 시간대별 캔들 그리기
            drawTimeframeCandles('1d', 'dailyCanvas', priceRange, 1.0, '#222222');
            drawTimeframeCandles('4h', 'hourly4Canvas', priceRange, 0.8, '#FF5733');  
            drawTimeframeCandles('30m', 'minute30Canvas', priceRange, 0.6, '#2E7D32');
            drawTimeframeCandles('5m', 'minute5Canvas', priceRange, 0.4, '#1976D2');
            drawTimeframeCandles('1m', 'minute1Canvas', priceRange, 0.2, '#9C27B0');
            
            console.log('✨ 프랙탈 캔들 그리기 완료!');
        }
        
        // 가격 범위 계산
        function calculatePriceRange() {
            let allPrices = [];
            
            Object.values(candleData).forEach(timeframeData => {
                timeframeData.forEach(candle => {
                    allPrices.push(candle.high, candle.low);
                });
            });
            
            if (allPrices.length === 0) return { min: 0, max: 100 };
            
            const min = Math.min(...allPrices);
            const max = Math.max(...allPrices);
            const padding = (max - min) * 0.1; // 10% 여유 공간
            
            return {
                min: min - padding,
                max: max + padding
            };
        }
        
        // 특정 시간대 캔들 그리기
        function drawTimeframeCandles(timeframe, canvasId, priceRange, opacity, color) {
            const ctx = canvasContexts[canvasId];
            const data = candleData[timeframe];
            
            if (!data || data.length === 0) return;
            
            console.log(`🕯️ ${timeframe} 캔들 그리기: ${data.length}개`);
            
            // 캔들 크기 계산
            const candleWidth = getCandleWidth(timeframe);
            const spacing = candleWidth * 0.1;
            
            // 최근 데이터만 표시 (화면에 맞게)
            const maxCandles = Math.floor(chartDimensions.width / (candleWidth + spacing));
            const recentData = data.slice(-maxCandles);
            
            recentData.forEach((candle, index) => {
                const x = index * (candleWidth + spacing);
                drawSingleCandle(ctx, x, candle, candleWidth, priceRange, opacity, color);
            });
        }
        
        // 시간대별 캔들 폭 계산
        function getCandleWidth(timeframe) {
            const baseWidth = chartDimensions.width / 10; // 기본 폭
            
            switch(timeframe) {
                case '1d': return baseWidth;           // 가장 큰 캔들
                case '4h': return baseWidth / 6;       // 일봉의 1/6
                case '30m': return baseWidth / 48;     // 일봉의 1/48
                case '5m': return baseWidth / 288;     // 일봉의 1/288
                case '1m': return baseWidth / 1440;    // 일봉의 1/1440
                default: return baseWidth;
            }
        }
        
        // 단일 캔들 그리기
        function drawSingleCandle(ctx, x, candle, width, priceRange, opacity, color) {
            // 가격을 Y좌표로 변환
            const getY = (price) => {
                const ratio = (price - priceRange.min) / (priceRange.max - priceRange.min);
                return chartDimensions.height - (ratio * chartDimensions.height);
            };
            
            const openY = getY(candle.open);
            const closeY = getY(candle.close);
            const highY = getY(candle.high);
            const lowY = getY(candle.low);
            
            // 상승/하락 색상 결정
            const isUp = candle.close >= candle.open;
            const candleColor = isUp ? '#4CAF50' : '#F44336'; // 초록/빨강
            
            // 투명도 적용
            ctx.globalAlpha = opacity;
            
            // 캔들 몸통 그리기
            ctx.fillStyle = candleColor;
            const bodyTop = Math.min(openY, closeY);
            const bodyHeight = Math.abs(closeY - openY);
            
            if (bodyHeight > 0) {
                ctx.fillRect(x, bodyTop, width, bodyHeight);
            } else {
                // 도지 캔들 (시가 = 종가)
                ctx.strokeStyle = candleColor;
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(x, openY);
                ctx.lineTo(x + width, openY);
                ctx.stroke();
            }
            
            // 캔들 꼬리 그리기 (High-Low)
            ctx.strokeStyle = candleColor;
            ctx.lineWidth = Math.max(1, width / 10);
            ctx.beginPath();
            ctx.moveTo(x + width/2, highY);
            ctx.lineTo(x + width/2, lowY);
            ctx.stroke();
            
            // 투명도 리셋
            ctx.globalAlpha = 1.0;
        }
        
        // 차트 새로고침
        function refreshChart() {
            console.log('🔄 프랙탈 캔들 차트 새로고침 시작...');
            loadFractalCandleData();
        }
        
        // 페이지 로드 시 차트 초기화
        document.addEventListener('DOMContentLoaded', function() {
            initializeFractalChart();
        });
    </script>
</body>
</html>